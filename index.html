<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Premium Expense App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
font-family:'Noto Sans Bengali',sans-serif;
background:linear-gradient(135deg,#43cea2,#185a9d);
padding:15px;
color:#333;
transition:0.3s;
}
.dark{background:#121212;color:#eee;}
h1{text-align:center;color:white;}
.card{
background:white;
padding:20px;
border-radius:20px;
box-shadow:0 10px 25px rgba(0,0,0,0.2);
margin-bottom:20px;
}
.dark .card{background:#1e1e1e;}
.balanceBox{display:flex;justify-content:space-between;font-weight:600;font-size:18px;margin-top:5px;}
#balance{font-size:22px;font-weight:bold;}
input,select{
width:100%;padding:12px;margin:8px 0;border-radius:12px;border:none;
background:#f1f1f1;font-size:16px;
}
.dark input,.dark select{background:#2c2c2c;color:white;}
.buttons{display:flex;justify-content:space-between;}
button{
width:48%;padding:12px;border:none;border-radius:15px;
font-size:16px;font-weight:600;color:white;cursor:pointer;
}
.incomeBtn{background:linear-gradient(45deg,#11998e,#38ef7d);}
.expenseBtn{background:linear-gradient(45deg,#ff416c,#ff4b2b);}
.item{
display:flex;justify-content:space-between;align-items:center;
background:#f9f9f9;padding:12px;margin-top:10px;border-radius:12px;
}
.dark .item{background:#2a2a2a;}
.green{color:#11998e;}
.red{color:#ff416c;}
.smallDate{font-size:12px;opacity:0.6;margin-top:3px;}
.actionBtns button{
width:24px;height:24px;margin-left:5px;
border-radius:50%;font-size:12px;padding:0;
}
.deleteBtn{background:#ff4b2b;}
.editBtn{background:#11998e;}
.resetBtn{
width:100%;padding:14px;margin-top:15px;border:none;border-radius:15px;
font-size:16px;font-weight:600;color:white;
background:linear-gradient(45deg,#ff416c,#ff4b2b);cursor:pointer;
}
.searchInput{margin-top:10px;}
.lockScreen{
position:fixed;top:0;left:0;width:100%;height:100%;
background:#000000dd;display:flex;justify-content:center;align-items:center;
flex-direction:column;z-index:999;
}
.lockBox{
background:white;padding:30px;border-radius:20px;
width:90%;max-width:300px;text-align:center;
}
.darkToggle{width:100%;margin-top:10px;background:#333;}
canvas{margin-top:15px;}
.pdfBtn{
width:100%;margin-top:10px;background:#11998e;color:white;
padding:12px;border:none;border-radius:12px;
}

/* ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
@media print{
body{background:white !important;color:black !important;}
h1{color:black !important;}
button,.pdfBtn,.darkToggle,#search,#monthFilter,canvas{display:none !important;}
.card{box-shadow:none;border:1px solid #ccc;}
}
</style>
</head>
<body>

<h1>üíé ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡ßü ‡¶¨‡ßç‡¶Ø‡ßü</h1>

<!-- ‡¶¨‡¶æ‡¶ï‡¶ø HTML ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã‡¶á ‡¶Ü‡¶õ‡ßá -->
<!-- ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã body ‡¶Ö‡¶Ç‡¶∂ ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá -->

<script>
/* ===== ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∏‡¶¨ JS ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ===== */

/* ‡¶∂‡ßÅ‡¶ß‡ßÅ PDF ‡¶Ö‡¶Ç‡¶∂ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø */

function downloadPDF(){

let selectedMonth=document.getElementById("monthFilter").value;

if(selectedMonth==="all"){
alert("‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶Æ‡¶æ‡¶∏ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®");
return;
}

let filtered=transactions.filter(t=>t.date.slice(0,7)===selectedMonth);

if(filtered.length===0){
alert("‡¶è‡¶á ‡¶Æ‡¶æ‡¶∏‡ßá ‡¶ï‡ßã‡¶® ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶á");
return;
}

let printWindow=window.open("","","width=800,height=600");

let html=`
<html>
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Noto Sans Bengali',sans-serif;padding:20px;}
h2{text-align:center;}
table{width:100%;border-collapse:collapse;margin-top:20px;}
th,td{border:1px solid #000;padding:8px;text-align:left;}
th{background:#f2f2f2;}
</style>
</head>
<body>
<h2>‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü - ${selectedMonth}</h2>
<table>
<tr>
<th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
<th>‡¶ß‡¶∞‡¶£</th>
<th>‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø</th>
<th>‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
</tr>
`;

filtered.forEach(t=>{
html+=`
<tr>
<td>${new Date(t.date).toLocaleDateString("bn-BD")}</td>
<td>${t.type==="income"?"‡¶Ü‡ßü":"‡¶ñ‡¶∞‡¶ö"}</td>
<td>${t.category}</td>
<td>${formatMoney(t.amount)} ‡¶ü‡¶æ‡¶ï‡¶æ</td>
</tr>
`;
});

html+=`
</table>
<script>
window.onload=function(){window.print();}
<\/script>
</body>
</html>
`;

printWindow.document.write(html);
printWindow.document.close();
}
</script>

</body>
</html>